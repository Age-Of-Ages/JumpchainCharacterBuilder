<UserControl x:Class="JumpchainCharacterBuilder.Views.CosmicPassportView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModel="clr-namespace:JumpchainCharacterBuilder.ViewModel"
             mc:Ignorable="d" 
             d:DataContext="{d:DesignInstance Type=viewModel:CosmicPassportViewModel, IsDesignTimeCreatable=True}"
             d:DesignHeight="757" d:DesignWidth="950">

    <Grid Background="#FFD8D8D8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Stretch">
            <Button Content="New character"
                    Command="{Binding NewCharacterCommand}" VerticalAlignment="Bottom"
                    Style="{DynamicResource DataGridButton}"
                    MinWidth="25" Height="5"/>

            <ContentControl Template="{DynamicResource CharacterSelector}" Margin="15,0,0,0"/>

            <Button Content="Delete character"
                    Command="{Binding DeleteCharacterCommand}" Margin="10,0,0,0" VerticalAlignment="Bottom"
                    Style="{DynamicResource DataGridButton}"
                    MinWidth="25" Height="5"/>

            <Button Content="Refresh all Passport Data" 
                    Command="{Binding RefreshPassportsCommand}" Margin="50,0,0,0" VerticalAlignment="Bottom"
                    Style="{DynamicResource DataGridButton}"/>
        </StackPanel>

        <TabControl Grid.Row="1" Margin="0,5,0,0"
                    SelectedIndex="{Binding PassportTabIndex}">
            <TabItem Header="Profile">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <GroupBox Header="Biography">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Margin="5,3,0,0">
                                <TextBlock Text="Name"/>
                                <TextBox Text="{Binding CharacterSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                         Width="100"/>

                                <TextBlock Text="Alias" Margin="0,5,0,0"/>
                                <TextBox Text="{Binding CharacterSelection.Alias, ValidatesOnNotifyDataErrors=True}"
                                         Width="100"/>

                                <TextBlock Text="True age" Margin="0,5,0,0"/>
                                <TextBox Text="{Binding CharacterSelection.TrueAge}"
                                         Width="50" IsReadOnly="True"/>

                                <TextBlock Text="Gender" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding CharacterSelection.Gender, ValidatesOnNotifyDataErrors=True}"
                                         Width="75"/>

                                <TextBlock Text="Home world/setting" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding CharacterSelection.Homeworld, ValidatesOnNotifyDataErrors=True}"
                                         Width="75"/>
                            </StackPanel>

                            <StackPanel VerticalAlignment="Center" Grid.Column="1" HorizontalAlignment="Left" Margin="0,0,0,25">
                                <TextBlock Text="Original age"/>
                                <TextBox Text="{Binding CharacterSelection.Age, ValidatesOnNotifyDataErrors=True}"
                                         Width="50"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" HorizontalAlignment="Left" Margin="0,3,0,25">
                                <TextBlock Text="Character joined on Jump #"/>
                                <TextBox Text="{Binding CharacterSelection.FirstJump, ValidatesOnNotifyDataErrors=True}"
                                         Width="40"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Physical Characteristics" Grid.Row="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Margin="5,3,0,0">
                                <TextBlock Text="Species"/>
                                <TextBox Text="{Binding CharacterSelection.Species, ValidatesOnNotifyDataErrors=True}"
                                         Width="100"/>

                                <TextBlock Text="Race" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding CharacterSelection.Race, ValidatesOnNotifyDataErrors=True}"
                                         Width="100"/>
                            </StackPanel>

                            <StackPanel Margin="0,3,0,0" Grid.Column="1">
                                <GroupBox Header="Height" Height="115">
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0" Visibility="{Binding UsingFeetInches, 
                                        Converter={StaticResource BoolToVis}}">
                                            <TextBlock Text="Feet"/>
                                            <TextBox Text="{Binding CharacterSelection.HeightFeet, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>

                                            <TextBlock Text="Inches" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding CharacterSelection.HeightInches, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                        </StackPanel>
                                        
                                        <StackPanel Margin="5,3,0,0" Visibility="{Binding UsingFeet, Converter={StaticResource BoolToVis}}">
                                            <TextBlock Text="Feet"/>
                                            <TextBox Text="{Binding CharacterSelection.HeightFeet, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                        </StackPanel>

                                        <StackPanel Margin="5,3,0,0" Visibility="{Binding UsingMeters, Converter={StaticResource BoolToVis}}">
                                            <TextBlock Text="Meters"/>
                                            <TextBox Text="{Binding CharacterSelection.HeightMeters, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                    

                                    
                                </GroupBox>

                                <GroupBox Header="Weight" Margin="0,15,0,0" Height="75">
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0" Visibility="{Binding UsingPounds, 
                                        Converter={StaticResource BoolToVis}}">
                                            <TextBlock Text="Weight (Pounds)"/>
                                            <TextBox Text="{Binding CharacterSelection.WeightPounds, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                        </StackPanel>

                                        <StackPanel Margin="5,3,0,0" Visibility="{Binding UsingKilograms, 
                                        Converter={StaticResource BoolToVis}}">
                                            <TextBlock Text="Weight (Kilograms)"/>
                                            <TextBox Text="{Binding CharacterSelection.WeightKilograms, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </StackPanel>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Personality" Grid.Row="2">
                        <Grid>
                            <TextBox Text="{Binding CharacterSelection.Personality, ValidatesOnNotifyDataErrors=True}"
                                     Width="290" Height="200"
                                     Margin="5,3,0,0"
                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                     Tag="Input personality details."/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Physical Description" Grid.Column="1" Grid.Row="2">
                        <Grid>
                            <TextBox Text="{Binding CharacterSelection.PhysicalDescription, ValidatesOnNotifyDataErrors=True}"
                                     Width="290" Height="200"
                                     Margin="5,3,0,0"
                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                     Tag="Input physical characteristics."/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Traits" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="2">
                        <DataGrid ItemsSource="{Binding CharacterTraitList}"
                                  SelectionUnit="Cell"
                                  Margin="5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Likes" Binding="{Binding Like}" Width="*"/>
                                <DataGridTextColumn Header="Dislikes" Binding="{Binding Dislike}" Width="*"/>
                                <DataGridTextColumn Header="Hobbies" Binding="{Binding Hobby}" Width="*"/>
                                <DataGridTextColumn Header="Quirks" Binding="{Binding Quirk}" Width="*"/>
                                <DataGridTextColumn Header="Goals" Binding="{Binding Goal}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <Grid Grid.Row="2" Grid.Column="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <Button Content="New Row"
                                Command="{Binding NewTraitRowCommand}"
                                Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Center"/>

                        <Button Content="Delete Row" Grid.Column="1"
                                Command="{Binding DeleteTraitRowCommand}"
                                Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Center"/>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem Header="Alt-forms">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="2*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <ListView ItemsSource="{Binding CharacterAltFormList}"
                              SelectedItem="{Binding CharacterAltFormSelection}"
                              SelectedIndex="{Binding CharacterAltFormSelectionIndex}">
                        <ListView.View>
                            <GridView>
                                <GridView.Columns>
                                    <GridViewColumn Header="Name" Width="160"
                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                    DisplayMemberBinding="{Binding AltFormName}"/>
                                    <GridViewColumn Header="Species/Race" Width="150" 
                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                    DisplayMemberBinding="{Binding AltFormSpecies}"/>
                                </GridView.Columns>
                            </GridView>
                        </ListView.View>
                    </ListView>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <Button Content="New Form"
                                Command="{Binding NewAltFormCommand}"
                                Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Left"/>

                        <Button Content="Delete Form" Grid.Column="1"
                                Command="{Binding DeleteAltFormCommand}"
                                Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Right"/>
                    </Grid>

                    <GroupBox Grid.Column="1" Header="Alt-Form Details">
                        <GroupBox.Visibility>
                            <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                <Binding Path="CharacterAltFormSelection"/>
                                <Binding Path="CharacterAltFormList"/>
                            </MultiBinding>
                        </GroupBox.Visibility>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Margin="5,3,0,0">
                                <TextBlock Text="Name"/>
                                <TextBox Text="{Binding CharacterAltFormSelection.AltFormName, ValidatesOnNotifyDataErrors=True}"
                                         Width="120"/>

                                <TextBlock Text="Species/Race" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding CharacterAltFormSelection.AltFormSpecies, ValidatesOnNotifyDataErrors=True}"
                                         Width="120"/>

                                <TextBlock Text="Description" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding CharacterAltFormSelection.AltFormDescription, ValidatesOnNotifyDataErrors=True}"
                                         Width="275"
                                         Height="200"
                                         Style="{DynamicResource LargeTextBoxHintTemplate}"
                                         Tag="Insert Alt-Form description."/>
                            </StackPanel>

                            <StackPanel Margin="0,3,0,0" Grid.Column="1">
                                <DataGrid ItemsSource="{Binding AltFormStrengthWeaknessList}"
                                          SelectionUnit="Cell"
                                          Height="250">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Strengths" Binding="{Binding Strength, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                        <DataGridTextColumn Header="Weaknesses" Binding="{Binding Weakness, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Button Content="New Row"
                                            Command="{Binding NewStrengthWeaknessRowCommand}"
                                            Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Left"/>

                                    <Button Content="Delete Row" Grid.Column="1"
                                            Command="{Binding DeleteStrengthWeaknessRowCommand}"
                                            Style="{DynamicResource DataGridButton}" VerticalAlignment="Top" HorizontalAlignment="Right"/>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Header="Perks">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TabControl ItemsSource="{Binding ActivePerkLists}"
                                SelectedValue="{Binding PerkTabName}" 
                                SelectedValuePath="Key"
                                SelectedIndex="{Binding PerkTabIndex}">
                        <TabControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Key}"/>
                                </StackPanel>
                            </DataTemplate>
                        </TabControl.ItemTemplate>
                        <TabControl.ContentTemplate>
                            <DataTemplate>
                                <ListView ItemsSource="{Binding Value}"
                                          SelectedItem="{Binding RelativeSource={RelativeSource AncestorType={x:Type TabControl}}, Path=DataContext.PerkSelection}">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="170"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewNameColumn}"/>
                                                <GridViewColumn Header="Description" Width="445" 
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDescriptionColumn}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </DataTemplate>
                        </TabControl.ContentTemplate>
                    </TabControl>

                    <GroupBox Header="Perk Details" Grid.Column="1">
                        <GroupBox.Visibility>
                            <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                <Binding Path="PerkSelection"/>
                                <Binding Path="CurrentPerkList"/>
                            </MultiBinding>
                        </GroupBox.Visibility>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="2*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Margin="5,3,0,0">
                                <TextBlock Text="Name"/>
                                <TextBox Text="{Binding PerkSelection.Name}"
                                     Width="120"/>

                                <TextBlock Text="Source Jump" Margin="0,15,0,0"/>
                                <TextBox Text="{Binding PerkSelection.SourceJump}"
                                     Width="120"/>

                                <TextBlock Text="Description" Margin="0,50,0,0"/>
                                <TextBox Text="{Binding PerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                     Width="295"
                                     Height="290"
                                     Style="{DynamicResource LargeTextBox}"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </Grid>
                
            </TabItem>
            <TabItem Header="Attributes">
                <Grid>
                    <TabControl>
                        <TabItem Header="Attribute Lists">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0.1*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Button Content="Refresh Attribute Ranks" Command="{Binding RefreshAttributesCommand}"
                                        HorizontalAlignment="Center" VerticalAlignment="Center"
                                        Style="{DynamicResource DataGridButton}"/>

                                <TabControl Grid.Row="1">
                                    <TabItem Header="Physical Attributes">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            
                                            <ListView ItemsSource="{Binding CurrentPhysicalAttributeList}"
                                                      SelectedItem="{Binding CurrentPhysicalAttributeSelection}"
                                                      SelectedIndex="{Binding CurrentPhysicalAttributeIndex}"
                                                      Width="300" Height="480"
                                                      Margin="0,5,0,0">
                                                <ListView.View>
                                                    <GridView>
                                                        <GridView.Columns>
                                                            <GridViewColumn Header="Attribute Name" Width="150"
                                                                            CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                            DisplayMemberBinding="{Binding Name}"/>
                                                            <GridViewColumn Header="Attribute Rank" Width="150" 
                                                                            CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                            DisplayMemberBinding="{Binding DisplayRank}"/>
                                                        </GridView.Columns>
                                                    </GridView>
                                                </ListView.View>
                                            </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewPhysicalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeletePhysicalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MovePhysicalAttributeUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MovePhysicalAttributeDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>
                                            
                                            <GroupBox Grid.Column="2" Grid.RowSpan="2" Header="Attribute Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentPhysicalAttributeSelection"/>
                                                        <Binding Path="CurrentPhysicalAttributeList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Attribute Name"/>
                                                    <TextBox Text="{Binding CurrentPhysicalAttributeSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Attribute Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentPhysicalAttributeSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Attribute Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentPhysicalAttributeSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Attribute Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentPhysicalAttributeSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentPhysicalAttributeSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Mental Attributes">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            
                                                <ListView ItemsSource="{Binding CurrentMentalAttributeList}"
                                                          SelectedItem="{Binding CurrentMentalAttributeSelection}"
                                                          SelectedIndex="{Binding CurrentMentalAttributeIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Attribute Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Attribute Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewMentalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteMentalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveMentalAttributeUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveMentalAttributeDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>

                                            <GroupBox Grid.Column="2" Grid.RowSpan="2" Header="Attribute Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentMentalAttributeSelection"/>
                                                        <Binding Path="CurrentMentalAttributeList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Attribute Name"/>
                                                    <TextBox Text="{Binding CurrentMentalAttributeSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Attribute Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentMentalAttributeSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Attribute Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentMentalAttributeSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Attribute Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentMentalAttributeSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentMentalAttributeSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Supernatural Attributes">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            
                                                <ListView ItemsSource="{Binding CurrentSupernaturalAttributeList}"
                                                          SelectedItem="{Binding CurrentSupernaturalAttributeSelection}"
                                                          SelectedIndex="{Binding CurrentSupernaturalAttributeIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Attribute Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Attribute Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewSupernaturalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteSupernaturalAttributeCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveSupernaturalAttributeUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveSupernaturalAttributeDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>

                                            <GroupBox Grid.Column="2" Grid.RowSpan="2" Header="Attribute Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentSupernaturalAttributeSelection"/>
                                                        <Binding Path="CurrentSupernaturalAttributeList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Attribute Name"/>
                                                    <TextBox Text="{Binding CurrentSupernaturalAttributeSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Attribute Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentSupernaturalAttributeSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Attribute Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSupernaturalAttributeSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Attribute Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSupernaturalAttributeSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentSupernaturalAttributeSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                </TabControl>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Rank Descriptions">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <GroupBox Header="Rank Explanation">
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Ranks are split into a set of four tiers, each representing a general bracket of capabilities. The four tiers are as follows: Human, Extraordinary, Mythic, and Cosmic."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="These tiers are split into a standard letter grading system, with each tier past Human having a special prefix to indicate the tier."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="Beyond simply moving from rank to rank, it is also possible to gain 'plus ranks', which represent more granular progress between ranks. Each rank has three corrosponding plus ranks, and will progress to the next rank rather than achieving a fourth plus rank."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="The difficulty of achieving a plus rank through natural means increases exponentially as the attribute's rank grows. It will generally be unfeasible to develop an attribute beyond the Extraordinary tier by natural means, at least without an uncapper and training boosters."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="Furthermore, breaching the boundary between tiers is more difficult than any unaided training or Perks within that tier could realistically accomplish. Going from peak-peak-human to truly, genuinely superhuman requires something special, and the gap only grows for later tiers."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>
                                    </StackPanel>
                                </GroupBox>
                                
                                <GroupBox Header="Human" Grid.Column="1">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Attributes in this tier are within what is generally agreed to be typical human capabilities."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The minimum level of capability that one can have while still being said to possess the attribute at all."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="A modest amount of capability in the listed attribute. Nothing special, but better than nothing."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Below average for the listed attribute, but not by much."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Average human capability in the listed attribute. This is generally where most people will fall for most attributes."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="You're well beyond the average by the time you reach this point. For something like physical strength, professional weightlifters would be in this rank."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The peak of human capability. Although it is theoretically possible to exceed this limit, even a single plus ranking would likely take multiple lifetimes. Reaching the maximum of A+++ would be a truly incredible feat."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Extraordinary" Grid.Column="2">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Attributes in this tier are explicitly beyond human capability."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="EX-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This level of ability is far above what a normal human can achieve. Mere mortals could not hope to reach this level in the listed attribute."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="For a given physical attribute, this is the point where you start to exceed what even the more specialized animal senses can match."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Mundane natural organisms can't hope to match your capabilities in this attribute."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="As far as enhancements to direct attributes go, the average superhero would be unlikely to exceed your level of ability in this attribute."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Even among the realm of cultural heroes, your ability in this attribute is matched by few."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The listed attribute has achieved legendary status. The plus ranks beyond this point represent the very limits of what is physically possible to attain. Only something truly special could push you further beyond..."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Mythic" Grid.Column="3">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Attributes in this tier are within the realm of godlike entities -- the lesser gods, anyways."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="S-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Anyone functioning on traditional physics would be hard pressed to even approach your level with this attribute."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Your feats in this attribute are solidly godlike. Lifting a mountain wouldn't be out of the question for Strength at this rank, or even that difficult."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Even for more exotic and potent superpowers, matching you in this attribute would be outright miraculous."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="An incredible level of ability in the listed attribute, enough to enact miracles of your own within the bounds of the listed attribute."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="You quickly approach the limits of what could be considered a 'lesser' god."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This is it, the peak of myth and legend. Very, very few can even see the peak you stand upon. You're not quite in the Big Leagues yet, but you're solidly in the middle of the godly range."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Cosmic" Grid.Column="4">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Even most gods can't claim this level of power. Attributes at this tier are more on par with creator deity levels of power. It is essentially pointless to attempt to describe attributes with these ranks."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="Z-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Limitations and the laws of physics fade away like so much mist before the glory of this attribute."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Boundaries become meaningless, Strength of this rank can lift the galaxies themselves."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The listed attribute exceeds all forms of measurement, likely limited only by your imagination."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="You're solidly in the middle of the 'creator deity' range of ability."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Most creator deities can't claim this rank on their own."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This is the absolute zenith, describing your attribute would likely require the 'omni-' prefix. Attempting to describe a level of power beyond this rank would be an exercise in futility."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
            <TabItem Header="Skills">
                <Grid>
                    <TabControl>
                        <TabItem Header="Skill Lists">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0.1*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Button Content="Refresh Skill Ranks" Command="{Binding RefreshSkillsCommand}"
                                        HorizontalAlignment="Center" VerticalAlignment="Center"
                                        Style="{DynamicResource DataGridButton}"/>

                                <TabControl Grid.Row="1">
                                    <TabItem Header="Physical Skills">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                                <ListView ItemsSource="{Binding CurrentPhysicalSkillList}"
                                                          SelectedItem="{Binding CurrentPhysicalSkillSelection}"
                                                          SelectedIndex="{Binding CurrentPhysicalSkillIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Skill Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Skill Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewPhysicalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeletePhysicalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MovePhysicalSkillUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MovePhysicalSkillDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>

                                            <GroupBox Grid.Column="2" Header="Skill Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentPhysicalSkillSelection"/>
                                                        <Binding Path="CurrentPhysicalSkillList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Skill Name"/>
                                                    <TextBox Text="{Binding CurrentPhysicalSkillSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Skill Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentPhysicalSkillSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Skill Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentPhysicalSkillSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Skill Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentPhysicalSkillSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentPhysicalSkillSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Mental Skills">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                                <ListView ItemsSource="{Binding CurrentMentalSkillList}"
                                                          SelectedItem="{Binding CurrentMentalSkillSelection}"
                                                          SelectedIndex="{Binding CurrentMentalSkillIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Skill Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Skill Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewMentalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteMentalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveMentalSkillUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveMentalSkillDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>


                                            <GroupBox Grid.Column="2" Header="Skill Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentMentalSkillSelection"/>
                                                        <Binding Path="CurrentMentalSkillList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Skill Name"/>
                                                    <TextBox Text="{Binding CurrentMentalSkillSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Skill Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentMentalSkillSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Skill Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentMentalSkillSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Skill Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentMentalSkillSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentMentalSkillSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Social Skills">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                                <ListView ItemsSource="{Binding CurrentSocialSkillList}"
                                                          SelectedItem="{Binding CurrentSocialSkillSelection}"
                                                          SelectedIndex="{Binding CurrentSocialSkillIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Skill Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Skill Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewSocialSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteSocialSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveSocialSkillUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveSocialSkillDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>

                                            <GroupBox Grid.Column="2" Header="Skill Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentSocialSkillSelection"/>
                                                        <Binding Path="CurrentSocialSkillList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Skill Name"/>
                                                    <TextBox Text="{Binding CurrentSocialSkillSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Skill Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentSocialSkillSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Skill Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSocialSkillSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Skill Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSocialSkillSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentSocialSkillSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Technological Skills">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                                <ListView ItemsSource="{Binding CurrentTechnologicalSkillList}"
                                                          SelectedItem="{Binding CurrentTechnologicalSkillSelection}"
                                                          SelectedIndex="{Binding CurrentTechnologicalSkillIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Skill Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Skill Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewTechnologicalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteTechnologicalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveTechnologicalSkillUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveTechnologicalSkillDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>


                                            <GroupBox Grid.Column="2" Header="Skill Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentTechnologicalSkillSelection"/>
                                                        <Binding Path="CurrentTechnologicalSkillList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Skill Name"/>
                                                    <TextBox Text="{Binding CurrentTechnologicalSkillSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Skill Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentTechnologicalSkillSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Skill Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentTechnologicalSkillSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Skill Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentTechnologicalSkillSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentTechnologicalSkillSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Supernatural Skills">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="6*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                                <ListView ItemsSource="{Binding CurrentSupernaturalSkillList}"
                                                          SelectedItem="{Binding CurrentSupernaturalSkillSelection}"
                                                          SelectedIndex="{Binding CurrentSupernaturalSkillIndex}"
                                                          Width="300" Height="480"
                                                          Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Skill Name" Width="150"
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding Name}"/>
                                                                <GridViewColumn Header="Skill Rank" Width="150" 
                                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                DisplayMemberBinding="{Binding DisplayRank}"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>

                                                <Button Content="New" 
                                                        Command="{Binding NewSupernaturalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                <Button Content="Delete"
                                                        Command="{Binding DeleteSupernaturalSkillCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>

                                                <Button Content="Move Up" 
                                                        Command="{Binding MoveSupernaturalSkillUpCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Row="2"/>

                                                <Button Content="Move Down"
                                                        Command="{Binding MoveSupernaturalSkillDownCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"
                                                        Grid.Row="2"/>
                                            </Grid>


                                            <GroupBox Grid.Column="2" Header="Skill Details">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="CurrentSupernaturalSkillSelection"/>
                                                        <Binding Path="CurrentSupernaturalSkillList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel Margin="5,3,0,0">
                                                    <TextBlock Text="Skill Name"/>
                                                    <TextBox Text="{Binding CurrentSupernaturalSkillSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                             Width="120"/>

                                                    <TextBlock Text="Skill Rank" Margin="0,15,0,0"/>
                                                    <TextBox Text="{Binding CurrentSupernaturalSkillSelection.DisplayRank}" IsReadOnly="True"
                                                             Width="60"/>

                                                    <TextBlock Text="Skill Base Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Overrides total rank if it is below this value."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSupernaturalSkillSelection.BaseRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Skill Modified Rank" Margin="0,25,0,0"/>
                                                    <TextBlock Text="Note: Adds to the total rank like any other source."/>
                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                              DisplayMemberPath="Key"
                                                              SelectedValuePath="Value"
                                                              SelectedValue="{Binding CurrentSupernaturalSkillSelection.ModRank}"
                                                              Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Sources" Margin="0,30,0,0"/>
                                                    <ListView ItemsSource="{Binding CurrentSupernaturalSkillSelection.SourceList}"
                                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                                              Width="275" Height="250">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </StackPanel>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                </TabControl>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Rank Descriptions">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <GroupBox Header="Rank Explanation">
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Ranks are split into a set of four tiers, each representing a general bracket of capabilities. The four tiers are as follows: Human, Extraordinary, Mythic, and Cosmic."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="These tiers are split into a standard letter grading system, with each tier past Human having a special prefix to indicate the tier."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="Beyond simply moving from rank to rank, it is also possible to gain 'plus ranks', which represent more granular progress between ranks. Each rank has three corrosponding plus ranks, and will progress to the next rank rather than achieving a fourth plus rank."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="The difficulty of achieving a plus rank through natural means increases exponentially as the skill's rank grows. It will generally be unfeasible to develop a skill beyond the Extraordinary tier by natural means, at least without an uncapper and training boosters."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>

                                        <TextBlock Text="Furthermore, breaching the boundary between tiers is more difficult than any unaided training or Perks within that tier could realistically accomplish. Going from peak-peak-human to truly, genuinely superhuman requires something special, and the gap only grows for later tiers."
                                                   TextWrapping="Wrap" Margin="0,10,0,0"/>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Human" Grid.Column="1">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Skills in this tier are within what is generally agreed to be typical human capabilities."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="A dabbling level of skill, equal to someone that just started practicing said skill."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This is the level of someone that's gained a modest amount of skill in the area."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Most hobbyists are in this rank, and it represents an adequate level of skill."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="A professional level of skill, equal to what someone with education and experience in the area might have."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Expert-level proficiency, enough that most would consider you to have mastered the skill."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The peak of human skill. Although it is theoretically possible to exceed this limit, even a single plus ranking would likely take multiple lifetimes. Reaching the maximum of A+++ would be a truly incredible feat."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Extraordinary" Grid.Column="2">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Skills in this tier are explicitly beyond human capability."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="EX-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This level of skill is far above what a normal human can achieve. Mere mortals could not hope to reach this level of proficiency."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="In regards to the listed skill, your efforts would likely be considered outright magical by most."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Mundane natural organisms can't hope to match your skill in this area."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Your level of skill in this area is so great that it seems like a legitimate superpower."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Even among the realm of cultural heroes, your skill in this area is matched by few."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="EX-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The listed skill has achieved legendary status. The plus ranks beyond this point represent the very limits of what is physically possible to attain. Only something truly special could push you further beyond..."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Mythic" Grid.Column="3">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Skills in this tier are within the realm of godlike entities -- the lesser gods, anyways."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="S-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Anyone functioning on traditional physics would be hard pressed to even approach your level of skill."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Your feats in this area are solidly godlike. Crafting legendary artifacts wouldn't be out of the question, or even terribly difficult."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Even for more exotic and potent superpowers, matching you in this skill would be outright miraculous."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="An incredible level of experience with the listed skill, enough to enact miracles of your own within its bounds."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="You quickly approach the limits of what could be considered a 'lesser' god."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="S-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This is it, the peak of myth and legend. Very, very few can even see the peak you stand upon. You're not quite in the Big Leagues yet, but you're solidly in the middle of the godly range."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Cosmic" Grid.Column="4">
                                    <StackPanel Margin="0,3,0,0">
                                        <TextBlock Text="Even most gods can't claim this level of power. Skills at this tier are more on par with creator deity levels of power. It is essentially pointless to attempt to describe skills with these ranks."
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="Z-F" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Limitations and the laws of physics fade away like so much mist before the glory of this skill."
                                                   TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-E" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Boundaries become meaningless, crafting entire galaxies is feasible at this rank."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-D" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="The listed skill exceeds all forms of measurement, likely limited only by your imagination."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-C" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="You're solidly in the middle of the 'creator deity' range of skill."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-B" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="Most creator deities can't claim this rank on their own."
                                                       TextWrapping="Wrap"/>
                                        </Border>

                                        <TextBlock Text="Z-A" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        <Border BorderBrush="Black" BorderThickness="1">
                                            <TextBlock Text="This is the absolute zenith, beyond the point where mere words could be sufficient. Attempting to describe a level of skill beyond this rank would be an exercise in futility."
                                                       TextWrapping="Wrap"/>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
            <TabItem Header="Learning Rates">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="0.1*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Button Content="Refresh Boosters" Command="{Binding RefreshBoostersCommand}"
                                        HorizontalAlignment="Center" VerticalAlignment="Center"
                                        Style="{DynamicResource DataGridButton}"/>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="6*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                            <ListView ItemsSource="{Binding CurrentBoosterList}"
                                      SelectedItem="{Binding CurrentBoosterSelection}"
                                      SelectedIndex="{Binding CurrentBoosterIndex}"
                                      Width="300" Height="480"
                                      Margin="0,5,0,0">
                                <ListView.View>
                                    <GridView>
                                        <GridView.Columns>
                                            <GridViewColumn Header="Booster Name" Width="150"
                                                            CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                            DisplayMemberBinding="{Binding BoosterName}"/>
                                            <GridViewColumn Header="Boost Multiplier" Width="150" 
                                                            CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                            DisplayMemberBinding="{Binding BoosterMultiplier, StringFormat={}{0}x}"/>
                                        </GridView.Columns>
                                    </GridView>
                                </ListView.View>
                            </ListView>

                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Button Content="New" 
                                    Command="{Binding NewBoosterCommand}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    Style="{DynamicResource DataGridButton}"/>

                            <Button Content="Delete"
                                    Command="{Binding DeleteBoosterCommand}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Bottom"
                                    Style="{DynamicResource DataGridButton}"
                                    Grid.Column="2"/>
                        </Grid>


                        <GroupBox Grid.Column="2" Grid.RowSpan="2" Header="Attribute Details">
                            <GroupBox.Visibility>
                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                    <Binding Path="CurrentBoosterSelection"/>
                                    <Binding Path="CurrentBoosterList"/>
                                </MultiBinding>
                            </GroupBox.Visibility>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Margin="5,3,0,0">
                                    <TextBlock Text="Attribute Name"/>
                                    <TextBox Text="{Binding CurrentBoosterSelection.BoosterName, ValidatesOnNotifyDataErrors=True}"
                                             Width="120"/>

                                    <TextBlock Text="Attribute Description" Margin="0,15,0,0"/>
                                    <TextBox Text="{Binding CurrentBoosterSelection.BoosterDescription, ValidatesOnNotifyDataErrors=True}"
                                             Width="250" Height="200"
                                             Style="{DynamicResource LargeTextBox}"/>

                                    <TextBlock Text="Total boost multiplier" Margin="0,15,0,0"/>
                                    <TextBox Text="{Binding CurrentBoosterSelection.BoosterMultiplier, StringFormat={}{0}x}" IsReadOnly="True"
                                             Width="50"/>

                                    <TextBlock Text="Raw boost multiplier" Margin="0,15,0,0"/>
                                    <TextBox Text="{Binding CurrentBoosterSelection.BoosterMultiplier, StringFormat={}{0}x}" IsReadOnly="True"
                                             Width="50"/>


                                    <TextBlock Text="Sources" Margin="0,10,0,0"/>
                                    <ListView ItemsSource="{Binding CurrentBoosterSelection.SourceList}"
                                              Margin="0,5,0,0" HorizontalAlignment="Left"
                                              Width="275" Height="200">
                                        <ListView.View>
                                            <GridView>
                                                <GridView.Columns>
                                                    <GridViewColumn Header="Jump" DisplayMemberBinding="{Binding SourceJump}" Width="100"/>
                                                    <GridViewColumn Header="Purchase" DisplayMemberBinding="{Binding SourcePurchase}" Width="110"/>
                                                    <GridViewColumn Header="Rank" DisplayMemberBinding="{Binding SourceRank}" Width="65"/>
                                                </GridView.Columns>
                                            </GridView>
                                        </ListView.View>
                                    </ListView>
                                </StackPanel>

                                <StackPanel Grid.Column="1" Margin="5,3,0,0">
                                    <TextBlock Text="Dependancies"/>
                                    <ListView ItemsSource="{Binding CurrentBoosterSelection.BoosterDependencies}"
                                              Width="300" Height="500"
                                              Margin="0,10,0,0">
                                        <ListView.View>
                                            <GridView>
                                                <GridView.Columns>
                                                    <GridViewColumn Header="Source Name" Width="120"
                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                    DisplayMemberBinding="{Binding DependencySource}"/>
                                                    <GridViewColumn Header="Source Value (Raw)" Width="105" 
                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                    DisplayMemberBinding="{Binding DependencyMultiplier}"/>
                                                    <GridViewColumn Header="Enabled" Width="75">
                                                        <GridViewColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <CheckBox IsChecked="{Binding DependencyEnabled}"/>
                                                            </DataTemplate>
                                                        </GridViewColumn.CellTemplate>
                                                    </GridViewColumn>
                                                </GridView.Columns>
                                            </GridView>
                                        </ListView.View>
                                    </ListView>
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem Header="Body Mod">
                <Grid>
                    <TabControl Visibility="{Binding GenericBodyModSelected, Converter={StaticResource BoolToVis}}"
                                SelectedIndex="{Binding GBMTabIndex}">
                        <TabItem Header="Supplement Details">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <GroupBox Header="BP" Visibility="{Binding BodyModPurchasesAllowed, Converter={StaticResource BoolToVis}}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Total BP"/>
                                            <TextBox Text="{Binding TotalBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="CP Invested" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding CPInvested, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="Per-Jump BP total" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding JumpBPGained, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>

                                        <StackPanel Margin="0,3,0,0" Grid.Column="1">
                                            <TextBlock Text="BP Budget"/>
                                            <TextBox Text="{Binding Budget, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <Button Content="Refresh BP" Margin="0,15,0,0"
                                                    Command="{Binding RefreshBPCommand}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Margin="0,3,0,0">
                                            <TextBlock Text="BP from investment"/>
                                            <TextBox Text="{Binding BPBought, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="BP from Drawbacks" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding DrawbackBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>

                                <GroupBox Header="Character-specific settings" Grid.Column="1">
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Supplement taken on Jump #"/>
                                        <TextBox Text="{Binding GBMSupplementDelay}"
                                                 Width="40" HorizontalAlignment="Left"/>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Description" Grid.Row="1">
                                    <StackPanel>
                                        <TextBlock Text="Supplement Name"/>
                                        <TextBox Text="{Binding LoadedSave.GenericBodyMod.Name, ValidatesOnNotifyDataErrors=True}"
                                                 Width="120"/>

                                        <TextBlock Text="Supplement Description" Margin="0,15,0,0"/>
                                        <TextBox Text="{Binding LoadedSave.GenericBodyMod.FullDescription, ValidatesOnNotifyDataErrors=True}"
                                                 Width="320"
                                                 Height="220"
                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                 Tag="Insert Supplement description."/>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Purchases" Visibility="{Binding BodyModPurchasesAllowed, Converter={StaticResource BoolToVis}}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="4*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <ListView ItemsSource="{Binding GenericBodyModPurchaseList}"
                                          SelectedItem="{Binding BodyModPurchaseSelection}"
                                          SelectedIndex="{Binding GenericBodyModPurchaseSelectionIndex}"
                                          Width="600" Height="500" Grid.ColumnSpan="2" HorizontalAlignment="Left"
                                          Margin="0,5,0,0">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="500"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Name}"/>
                                                <GridViewColumn Header="Cost" Width="100" 
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding DisplayCost}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Button Content="Move Up" 
                                            Command="{Binding MoveBodyModPurchaseUpCommand}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="0"
                                            Grid.Row="0"/>

                                    <Button Content="Move Down"
                                            Command="{Binding MoveBodyModPurchaseDownCommand}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Bottom"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="0"
                                            Grid.Row="2"/>

                                    <Button Content="New" 
                                            Command="{Binding NewBodyModPurchaseCommand}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="2"
                                            Grid.Row="0"/>

                                    <Button Content="Delete"
                                            Command="{Binding DeleteBodyModPurchaseCommand}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="2"
                                            Grid.Row="2"/>
                                </Grid>

                                <GroupBox Header="Purchase Details" Grid.Column="2" Grid.RowSpan="2">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="BodyModPurchaseSelection"/>
                                            <Binding Path="GenericBodyModPurchaseList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="1.5*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding BodyModPurchaseSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding BodyModPurchaseSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                     Width="40"/>

                                            <CheckBox Content="Discounted" IsChecked="{Binding BodyModPurchaseSelection.Discounted}"
                                                      Margin="0,10,0,0"/>
                                            <CheckBox Content="Free" IsChecked="{Binding BodyModPurchaseSelection.Freebie}"
                                                      Margin="0,10,0,0"/>

                                            <TextBlock Text="Description" Margin="0,10,0,0"/>
                                            <TextBox Text="{Binding BodyModPurchaseSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="150"
                                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                     Tag="Insert purchase description."/>
                                        </StackPanel>

                                        <StackPanel Grid.Row="1" Orientation="Horizontal">
                                            <StackPanel>
                                                <TextBlock Text="Special Traits"/>
                                                <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="185"
                                                              Height="155">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="60"/>
                                                                <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="60"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                                <Grid Margin="0,10,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <Button Content="New Trait" 
                                                        Command="{Binding NewGBMPurchaseTraitCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                    <Button Content="Delete Trait"
                                                        Command="{Binding DeleteGBMPurchaseTraitCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>
                                                </Grid>
                                            </StackPanel>

                                            <GroupBox Header="Trait Details" Margin="5,0,0,0">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="PurchaseAttributeSelection"/>
                                                        <Binding Path="PurchaseAttributeList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel>
                                                    <TextBlock Text="Name"/>
                                                    <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                    <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                    <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                    SelectedValue="{Binding AttributeCategorySelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                    <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                        <TextBlock Text="Rank"/>
                                                        <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                      DisplayMemberPath="Key"
                                                                      SelectedValuePath="Value"
                                                                      SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                      Width="100" HorizontalAlignment="Left"/>
                                                    </StackPanel>
                                                    <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                        <TextBlock Text="Multiplier"/>
                                                        <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                    </StackPanel>
                                                    <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                        <TextBlock Text="Value"/>
                                                        <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </GroupBox>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Drawbacks" Visibility="{Binding BodyModPurchasesAllowed, Converter={StaticResource BoolToVis}}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="4*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <ListView ItemsSource="{Binding GenericBodyModDrawbackList}"
                                          SelectedItem="{Binding BodyModDrawbackSelection}"
                                          SelectedIndex="{Binding GenericBodyModDrawbackIndex}"
                                          Width="600" Height="500" Grid.ColumnSpan="2" HorizontalAlignment="Left"
                                          Margin="0,5,0,0">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="500"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Name}"/>
                                                <GridViewColumn Header="Value" Width="100" 
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Value}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                                
                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Button Content="Move Up" 
                                            Command="{Binding MoveBodyModDrawbackUpCommand}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="0"
                                            Grid.Row="0"/>

                                    <Button Content="Move Down"
                                            Command="{Binding MoveBodyModDrawbackDownCommand}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Bottom"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="0"
                                            Grid.Row="2"/>

                                    <Button Content="New" 
                                            Command="{Binding NewBodyModDrawbackCommand}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="2"
                                            Grid.Row="0"/>

                                    <Button Content="Delete"
                                            Command="{Binding DeleteBodyModDrawbackCommand}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            Style="{DynamicResource DataGridButton}"
                                            Grid.Column="2"
                                            Grid.Row="2"/>
                                </Grid>

                                <GroupBox Header="Drawback Details" Grid.Column="2">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="BodyModDrawbackSelection"/>
                                            <Binding Path="GenericBodyModDrawbackList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding BodyModDrawbackSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding BodyModDrawbackSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                     Width="40"/>

                                            <TextBlock Text="Description" Margin="0,50,0,0"/>
                                            <TextBox Text="{Binding BodyModDrawbackSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="300"
                                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                     Tag="Insert Drawback description."/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Additions">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <ListView ItemsSource="{Binding BodyModAdditionList}"
                                          SelectedItem="{Binding BodyModAdditionSelection}"
                                          SelectedIndex="{Binding BodyModAdditionSelectionIndex}"
                                          Width="600" Height="650" HorizontalAlignment="Left" VerticalAlignment="Top"
                                          Margin="0,5,0,0">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="600"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Name}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                                <GroupBox Header="Addition Details" Grid.Column="1">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="BodyModAdditionSelection"/>
                                            <Binding Path="BodyModAdditionList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Source Jump" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.SourceJump, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"
                                                     IsReadOnly="True"/>

                                            <TextBlock Text="Description" Margin="0,50,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="300"
                                                     Style="{DynamicResource LargeTextBox}"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>
                    
                    <TabControl Visibility="{Binding SBBodyModSelected, Converter={StaticResource BoolToVis}}"
                                SelectedIndex="{Binding SBBodyModTabIndex}">
                        <TabItem Header="Supplement Details">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="2*"/>
                                </Grid.RowDefinitions>

                                <GroupBox Header="BP">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Total BP"/>
                                            <TextBox Text="{Binding TotalBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="CP Invested" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding CPInvested, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="Per-Jump BP total" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding JumpBPGained, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>

                                        <StackPanel Margin="0,3,0,0" Grid.Column="1">
                                            <TextBlock Text="BP Budget"/>
                                            <TextBox Text="{Binding Budget, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <Button Content="Refresh BP" Margin="0,15,0,0"
                                                    Command="{Binding RefreshBPCommand}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Margin="0,3,0,0">
                                            <TextBlock Text="BP from investment"/>
                                            <TextBox Text="{Binding BPBought, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>

                                <GroupBox Header="Character-specific settings" Grid.Column="1">
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Supplement taken on Jump #"/>
                                        <TextBox Text="{Binding SBBodyModSupplementDelay}"
                                                 Width="40" HorizontalAlignment="Left"/>

                                        <TextBlock Text="Gauntlets taken before taking this Supplement" Margin="0,15,0,0"/>
                                        <TextBox Text="{Binding SBBodyModGauntlets}"
                                                 Width="40"
                                                 HorizontalAlignment="Left"/>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Base Form">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="3*"/>
                                </Grid.ColumnDefinitions>

                                <DockPanel>
                                    <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="3*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="3,5,0,0">
                                            <TextBlock Text="Anomalous Level"/>
                                            <ComboBox ItemsSource="{Binding SBBodyModAnomalous}"
                                                      DisplayMemberPath="Key"
                                                      SelectedValuePath="Value"
                                                      SelectedValue="{Binding SBBodyModAnomalousStipend}"
                                                      Width="120" 
                                                      HorizontalAlignment="Left"/>

                                            <TextBox Text="{Binding CharacterSelection.BodyMod.AnomalousDescription, ValidatesOnNotifyDataErrors=True}"
                                                     Width="170" Height="100"
                                                     Margin="0,15,0,0" VerticalAlignment="Top"
                                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                     Tag="Insert Anomalous description."/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Margin="3,5,0,0">
                                            <TextBlock Text="Stipend"/>
                                            <TextBox Text="{Binding SBBodyModAnomalousStipend}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </DockPanel>

                                <GroupBox Header="Section details" Grid.Column="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="3*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="3*"/>
                                            <RowDefinition Height="3*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <DataGrid ItemsSource="{Binding CharacterSelection.BodyMod.BaseFormDetails, ValidatesOnNotifyDataErrors=True}"
                                                  Margin="0,10,0,0"
                                                  Height="250" Width="500" 
                                                  HorizontalAlignment="Center" VerticalAlignment="Top"
                                                  Grid.ColumnSpan="3">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Section" Binding="{Binding Category}" Width="*" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Selection" Binding="{Binding Name, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                                <DataGridTextColumn Header="Description" Binding="{Binding Description, ValidatesOnNotifyDataErrors=True}" Width="2*" 
                                                                    ElementStyle="{DynamicResource DataGridDescriptionColumn}"
                                                                    EditingElementStyle="{DynamicResource DataGridEditDescriptionColumn}"/>
                                                <DataGridTextColumn Header="Cost" Binding="{Binding Cost, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <DataGrid ItemsSource="{Binding SBExtraBitsList}"
                                                  SelectedIndex="{Binding SBExtraBitsIndex}"
                                                  Height="250" Width="500"
                                                  HorizontalAlignment="Center" VerticalAlignment="Top"
                                                  Grid.Row="1" Grid.ColumnSpan="3"
                                                  Margin="0,10,0,0">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Name" Binding="{Binding Name, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                                <DataGridTextColumn Header="Description" Binding="{Binding Description, ValidatesOnNotifyDataErrors=True}" Width="2*" 
                                                                    ElementStyle="{DynamicResource DataGridDescriptionColumn}"
                                                                    EditingElementStyle="{DynamicResource DataGridEditDescriptionColumn}"/>
                                                <DataGridTextColumn Header="Cost" Binding="{Binding Cost, ValidatesOnNotifyDataErrors=True}" Width="*"/>
                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <Grid Grid.Row="2" Grid.Column="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <Button Content="New" 
                                                    Command="{Binding NewSBExtraBitsCommand}"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Style="{DynamicResource DataGridButton}"
                                                    Grid.Row="0"/>

                                            <Button Content="Delete"
                                                    Command="{Binding DeleteSBExtraBitsCommand}"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Style="{DynamicResource DataGridButton}"
                                                    Grid.Column="2"/>
                                        </Grid>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Augments/Affinity">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="3*"/>
                                </Grid.ColumnDefinitions>

                                <DockPanel>
                                    <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="3*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="3,5,0,0">
                                            <TextBlock Text="Augment Affinity"/>
                                            <ComboBox ItemsSource="{Binding SBBodyModAffinity}"
                                                      DisplayMemberPath="Key"
                                                      SelectedValuePath="Value"
                                                      SelectedValue="{Binding SBBodyModAffinityIndex}"
                                                      Width="120" 
                                                      HorizontalAlignment="Left"/>

                                            <TextBox Text="{Binding CharacterSelection.BodyMod.AffinityDescription, ValidatesOnNotifyDataErrors=True}"
                                                     Width="170" Height="100"
                                                     Margin="0,15,0,0" VerticalAlignment="Top"
                                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                     Tag="Insert Affinity description."/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Margin="3,5,0,0">
                                            <TextBlock Text="Cost"/>
                                            <TextBox Text="{Binding SBBodyModAffinityCost}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </DockPanel>
                                <Grid Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <GroupBox Header="Section details">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="0.2*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <StackPanel Margin="15,5,0,0">
                                                <TextBlock Text="Total Augment Investment"/>
                                                <TextBox Text="{Binding CharacterSelection.BodyMod.AugmentInvestment}" IsReadOnly="True"
                                                     Width="40"/>

                                                <CheckBox Content="Ascension Discount (Note: Overrides Affinity Discount)" 
                                                      IsChecked="{Binding CharacterSelection.BodyMod.AscensionDiscount}"
                                                      Margin="0,15,0,0"/>
                                            </StackPanel>

                                            <StackPanel Grid.Row="1" Margin="0,10,0,0">
                                                <TextBlock Text="Body Augments" HorizontalAlignment="Center"/>
                                                <ListView ItemsSource="{Binding CharacterSelection.BodyMod.BodyAugmentList, ValidatesOnNotifyDataErrors=True}"
                                                          SelectedItem="{Binding SBAugmentSelection}"
                                                          Height="125" Width="330"
                                                          Margin="5,5,0,0"
                                                          HorizontalAlignment="Left" VerticalAlignment="Top">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="110"/>
                                                                <GridViewColumn Header="Level" DisplayMemberBinding="{Binding AugmentLevel}" Width="110"/>
                                                                <GridViewColumn Header="Cost" DisplayMemberBinding="{Binding DisplayCost}" Width="110"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                                <TextBlock Text="Mind Augments" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                                <ListView ItemsSource="{Binding CharacterSelection.BodyMod.MindAugmentList, ValidatesOnNotifyDataErrors=True}"
                                                          SelectedItem="{Binding SBAugmentSelection}"
                                                          Height="125" Width="330"
                                                          Margin="5,5,0,0"
                                                          HorizontalAlignment="Left" VerticalAlignment="Top">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="110"/>
                                                                <GridViewColumn Header="Level" DisplayMemberBinding="{Binding AugmentLevel}" Width="110"/>
                                                                <GridViewColumn Header="Cost" DisplayMemberBinding="{Binding DisplayCost}" Width="110"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                                <TextBlock Text="Heart Augments" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                                <ListView ItemsSource="{Binding CharacterSelection.BodyMod.HeartAugmentList, ValidatesOnNotifyDataErrors=True}"
                                                          SelectedItem="{Binding SBAugmentSelection}"
                                                          Height="125" Width="330"
                                                          Margin="5,5,0,0"
                                                          HorizontalAlignment="Left" VerticalAlignment="Top">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="110"/>
                                                                <GridViewColumn Header="Level" DisplayMemberBinding="{Binding AugmentLevel}" Width="110"/>
                                                                <GridViewColumn Header="Cost" DisplayMemberBinding="{Binding DisplayCost}" Width="110"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>
                                            </StackPanel>

                                        </Grid>
                                    </GroupBox>

                                    <GroupBox Header="Augment Details" Grid.Column="1">
                                        <GroupBox.Visibility>
                                            <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                <Binding Path="SBAugmentSelection"/>
                                                <Binding Path="CharacterSelection.BodyMod.BodyAugmentList"/>
                                                <Binding Path="CharacterSelection.BodyMod.MindAugmentList"/>
                                                <Binding Path="CharacterSelection.BodyMod.HeartAugmentList"/>
                                            </MultiBinding>
                                        </GroupBox.Visibility>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="1.5*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <StackPanel Margin="5,3,0,0">
                                                <TextBlock Text="Name"/>
                                                <TextBox Text="{Binding SBAugmentSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                                <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                <TextBox Text="{Binding SBAugmentSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                     Width="40"/>

                                                <CheckBox Content="Discounted" IsChecked="{Binding SBAugmentSelection.Discounted}"
                                                      Margin="0,10,0,0"/>
                                                <CheckBox Content="Free" IsChecked="{Binding SBAugmentSelection.Freebie}"
                                                      Margin="0,10,0,0"/>

                                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                                    <ComboBox ItemsSource="{Binding SBAugmentSelection.AugmentLevelList}"
                                                              SelectedValue="{Binding SBAugmentSelection.AugmentLevel}"
                                                              Width="100"/>
                                                    <TextBlock Text="Augment Level" Margin="5,0,0,0"/>
                                                </StackPanel>

                                                <TextBlock Text="Description" Margin="0,10,0,0"/>
                                                <TextBox Text="{Binding SBAugmentSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                         Width="330"
                                                         Height="175"
                                                         Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                         Tag="Insert Augment description."/>
                                            </StackPanel>

                                            <StackPanel Grid.Row="1" Orientation="Horizontal">
                                                <StackPanel>
                                                    <TextBlock Text="Special Traits"/>
                                                    <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                    <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                    <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Margin="0,10,0,0">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Trait" 
                                                        Command="{Binding NewAugmentTraitCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Trait"
                                                        Command="{Binding DeleteAugmentTraitCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>
                                                    </Grid>
                                                </StackPanel>

                                                <GroupBox Header="Trait Details" Margin="5,0,0,0">
                                                    <GroupBox.Visibility>
                                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                            <Binding Path="PurchaseAttributeSelection"/>
                                                            <Binding Path="PurchaseAttributeList"/>
                                                        </MultiBinding>
                                                    </GroupBox.Visibility>
                                                    <StackPanel>
                                                        <TextBlock Text="Name"/>
                                                        <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                        <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                        <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                        <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                        <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                    SelectedValue="{Binding AttributeCategorySelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                        <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                            <TextBlock Text="Rank"/>
                                                            <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                      DisplayMemberPath="Key"
                                                                      SelectedValuePath="Value"
                                                                      SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                      Width="100" HorizontalAlignment="Left"/>
                                                        </StackPanel>
                                                        <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                            <TextBlock Text="Multiplier"/>
                                                            <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                        </StackPanel>
                                                        <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                            <TextBlock Text="Value"/>
                                                            <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </StackPanel>
                                        </Grid>
                                    </GroupBox>
                                </Grid>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Powers">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="3*"/>
                                </Grid.ColumnDefinitions>

                                <DockPanel>
                                    <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="5*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <ListView ItemsSource="{Binding SBBodyModPowerList}"
                                                  SelectedItem="{Binding SBBodyModPowerSelection}"
                                                  SelectedIndex="{Binding SBBodyModPowerIndex}"
                                                  Height="500" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                  Margin="0,5,0,0">
                                            <ListView.View>
                                                <GridView>
                                                    <GridView.Columns>
                                                        <GridViewColumn Header="Name" Width="90"
                                                                        CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                        DisplayMemberBinding="{Binding Name}"/>
                                                        <GridViewColumn Header="Category" Width="90"
                                                                        CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                        DisplayMemberBinding="{Binding Category}"/>
                                                        <GridViewColumn Header="Cost" Width="50"
                                                                        CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                        DisplayMemberBinding="{Binding Cost}"/>
                                                    </GridView.Columns>
                                                </GridView>
                                            </ListView.View>
                                        </ListView>

                                        <Grid Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <Button Content="New Purchase" 
                                                    Command="{Binding NewSBPowerCommand}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"/>

                                            <Button Content="Delete Purchase"
                                                    Command="{Binding DeleteSBPowerCommand}"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"
                                                    Grid.Column="2"/>
                                        </Grid>
                                    </Grid>
                                </DockPanel>

                                <GroupBox Header="Purchase Details" Grid.Column="1">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="SBBodyModPowerSelection"/>
                                            <Binding Path="SBBodyModPowerList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding SBBodyModPowerSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding SBBodyModPowerSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                     Width="40"/>

                                            <CheckBox Content="Discounted" IsChecked="{Binding SBBodyModPowerSelection.Discounted}"
                                                      Margin="0,10,0,0"/>
                                            <CheckBox Content="Free" IsChecked="{Binding SBBodyModPowerSelection.Freebie}"
                                                      Margin="0,10,0,0"/>

                                            <TextBlock Text="Category" Margin="0,15,0,0"/>
                                            <ComboBox ItemsSource="{Binding SBBodyModPowerCategories}"
                                                      SelectedValue="{Binding SBBodyModPowerSelection.Category, ValidatesOnNotifyDataErrors=True}"
                                                      Width="120"
                                                      HorizontalAlignment="Left"/>

                                            <TextBlock Text="Description" Margin="0,50,0,0"/>
                                            <TextBox Text="{Binding SBBodyModPowerSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="300"
                                                     Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                     Tag="Insert Power description."/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1">
                                            <StackPanel>
                                                <TextBlock Text="Special Traits"/>
                                                <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridView.Columns>
                                                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                            </GridView.Columns>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                                <Grid Margin="0,10,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <Button Content="New Trait" 
                                                        Command="{Binding NewSBPowerTraitCommand}"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"/>

                                                    <Button Content="Delete Trait"
                                                        Command="{Binding DeleteSBPowerTraitCommand}"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Center"
                                                        Style="{DynamicResource DataGridButton}"
                                                        Grid.Column="2"/>
                                                </Grid>
                                            </StackPanel>

                                            <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="PurchaseAttributeSelection"/>
                                                        <Binding Path="PurchaseAttributeList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <StackPanel>
                                                    <TextBlock Text="Name"/>
                                                    <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                    <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                    <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                    <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                    SelectedValue="{Binding AttributeCategorySelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                    <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                        <TextBlock Text="Rank"/>
                                                        <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                      DisplayMemberPath="Key"
                                                                      SelectedValuePath="Value"
                                                                      SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                      Width="100" HorizontalAlignment="Left"/>
                                                    </StackPanel>
                                                    <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                        <TextBlock Text="Multiplier"/>
                                                        <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                    </StackPanel>
                                                    <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                        <TextBlock Text="Value"/>
                                                        <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </GroupBox>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Additions">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <ListView ItemsSource="{Binding BodyModAdditionList}"
                                          SelectedItem="{Binding BodyModAdditionSelection}"
                                          SelectedIndex="{Binding BodyModAdditionSelectionIndex}"
                                          Height="650" Width="620" HorizontalAlignment="Left" VerticalAlignment="Top">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="620"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Name}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                                <GroupBox Header="Addition Details" Grid.Column="1">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="BodyModAdditionSelection"/>
                                            <Binding Path="BodyModAdditionList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Source Jump" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.SourceJump, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"
                                                     IsReadOnly="True"/>

                                            <TextBlock Text="Description" Margin="0,50,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="300"
                                                     Style="{DynamicResource LargeTextBox}"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>

                    <TabControl Visibility="{Binding EssentialBodyModSelected, Converter={StaticResource BoolToVis}}"
                                SelectedIndex="{Binding EBMTabIndex}">
                        <TabItem Header="Supplement Details">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <GroupBox Header="EP">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Total EP"/>
                                            <TextBox Text="{Binding TotalBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="CP Invested" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding CPInvested, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="Per-Jump EP total" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding JumpBPGained, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>

                                        <StackPanel Margin="0,3,0,0" Grid.Column="1">
                                            <TextBlock Text="EP Budget"/>
                                            <TextBox Text="{Binding Budget, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <Button Content="Refresh EP" Margin="0,15,0,0"
                                                    Command="{Binding RefreshBPCommand}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"/>

                                            <TextBlock Text="Gauntlet EP Total" Margin="0,24,0,0"/>
                                            <TextBox Text="{Binding GauntletBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Margin="0,3,0,0">
                                            <TextBlock Text="EP from investment"/>
                                            <TextBox Text="{Binding BPBought, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="EP from Drawbacks" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding DrawbackBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>

                                            <TextBlock Text="Quest EP Total" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding QuestBP, ValidatesOnNotifyDataErrors=True}" IsReadOnly="True"
                                                     Width="40"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>

                                <GroupBox Header="Character-specific settings" Grid.Column="1">
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Supplement taken on Jump #"/>
                                        <TextBox Text="{Binding EBMSupplementDelay}"
                                                 Width="40" HorizontalAlignment="Left"/>

                                        <TextBlock Text="Minor Quests completed" Margin="0,15,0,0"/>
                                        <TextBox Text="{Binding EBMMinorQuests, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>

                                        <TextBlock Text="Major Quests completed" Margin="0,15,0,0"/>
                                        <TextBox Text="{Binding EBMMajorQuests, ValidatesOnNotifyDataErrors=True}"
                                                 Width="40"/>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Essence Selection" Grid.Row="1" Grid.Column="1"
                                          Visibility="{Binding EBMEssenceAllowed, Converter={StaticResource BoolToVis}}">
                                    <StackPanel>
                                        <ListView ItemsSource="{Binding EBMEssenceList}"
                                                  SelectedItem="{Binding EBMEssenceSelection}"
                                                  SelectedIndex="{Binding EBMEssenceIndex}"
                                                  Height="200"
                                                  VerticalAlignment="Top">
                                            <ListView.View>
                                                <GridView>
                                                    <GridView.Columns>
                                                        <GridViewColumn Header="Name" Width="290"
                                                                        CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                        DisplayMemberBinding="{Binding Name}"/>
                                                    </GridView.Columns>
                                                </GridView>
                                            </ListView.View>
                                        </ListView>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <Button Content="New Essence" 
                                                    Command="{Binding NewEssenceCommand}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"/>

                                            <Button Content="Delete Essence"
                                                    Command="{Binding DeleteEssenceCommand}"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Style="{DynamicResource DataGridButton}"
                                                    Grid.Column="2"/>
                                        </Grid>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Essence Details" Grid.Row="1" Grid.Column="2">
                                    <GroupBox.Visibility>
                                        <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                            <Binding Path="EBMEssenceSelection"/>
                                            <Binding Path="EBMEssenceList"/>
                                        </MultiBinding>
                                    </GroupBox.Visibility>
                                    <StackPanel Margin="5,3,0,0">
                                        <TextBlock Text="Name"/>
                                        <TextBox Text="{Binding EBMEssenceSelection.Name, ValidatesOnNotifyDataErrors=True}" Width="120"/>

                                        <TextBlock Text="Description" Margin="0,10,0,0"/>
                                        <TextBox Text="{Binding EBMEssenceSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                 Width="270" Height="240"
                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                 Tag="Insert Essence description."/>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Purchases">
                            <Grid>
                                <TabControl SelectedIndex="{Binding EBMPurchaseTabIndex}">
                                    <TabItem Header="Basic">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMBasicPerkList}"
                                                              SelectedItem="{Binding EBMBasicPerkSelection}"
                                                              SelectedIndex="{Binding EBMBasicPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMBasicPerkSelection"/>
                                                        <Binding Path="EBMBasicPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMBasicPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMBasicPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMBasicPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMBasicPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMBasicPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Physical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMPhysicalPerkList}"
                                                              SelectedItem="{Binding EBMPhysicalPerkSelection}"
                                                              SelectedIndex="{Binding EBMPhysicalPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMPhysicalPerkSelection"/>
                                                        <Binding Path="EBMPhysicalPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMPhysicalPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMPhysicalPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMPhysicalPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMPhysicalPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMPhysicalPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Mental">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMMentalPerkList}"
                                                              SelectedItem="{Binding EBMMentalPerkSelection}"
                                                              SelectedIndex="{Binding EBMMentalPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMMentalPerkSelection"/>
                                                        <Binding Path="EBMMentalPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMMentalPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMMentalPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMMentalPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMMentalPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMMentalPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Spiritual">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMSpiritualPerkList}"
                                                              SelectedItem="{Binding EBMSpiritualPerkSelection}"
                                                              SelectedIndex="{Binding EBMSpiritualPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMSpiritualPerkSelection"/>
                                                        <Binding Path="EBMSpiritualPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMSpiritualPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMSpiritualPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMSpiritualPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMSpiritualPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMSpiritualPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Skill Perks">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMSkillPerkList}"
                                                              SelectedItem="{Binding EBMSkillPerkSelection}"
                                                              SelectedIndex="{Binding EBMSkillPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMSkillPerkSelection"/>
                                                        <Binding Path="EBMSkillPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMSkillPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMSkillPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMSkillPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMSkillPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMSkillPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Supernatural Abilities">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMSupernaturalPerkList}"
                                                              SelectedItem="{Binding EBMSupernaturalPerkSelection}"
                                                              SelectedIndex="{Binding EBMSupernaturalPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMSupernaturalPerkSelection"/>
                                                        <Binding Path="EBMSupernaturalPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMSupernaturalPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMSupernaturalPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMSupernaturalPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMSupernaturalPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMSupernaturalPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>
                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Item Perks">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMItemPerkList}"
                                                              SelectedItem="{Binding EBMItemPerkSelection}"
                                                              SelectedIndex="{Binding EBMItemPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMItemPerkSelection"/>
                                                        <Binding Path="EBMItemPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMItemPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMItemPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMItemPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMItemPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMItemPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Companion Perks">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMCompanionPerkList}"
                                                              SelectedItem="{Binding EBMCompanionPerkSelection}"
                                                              SelectedIndex="{Binding EBMCompanionPerkIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Cost" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding DisplayCost}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Purchase" 
                                                                Command="{Binding NewEBMPerkCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Purchase"
                                                                Command="{Binding DeleteEBMPerkCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Purchase Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMCompanionPerkSelection"/>
                                                        <Binding Path="EBMCompanionPerkList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMCompanionPerkSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Cost" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMCompanionPerkSelection.Cost, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <CheckBox Content="Discounted" IsChecked="{Binding EBMCompanionPerkSelection.Discounted}"
                                                                  Margin="0,10,0,0"/>
                                                        <CheckBox Content="Free" IsChecked="{Binding EBMCompanionPerkSelection.Freebie}"
                                                                  Margin="0,10,0,0"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMCompanionPerkSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Perk description."/>
                                                    </StackPanel>

                                                    <StackPanel Grid.Column="1">
                                                        <StackPanel>
                                                            <TextBlock Text="Special Traits"/>
                                                            <ListView ItemsSource="{Binding PurchaseAttributeList}"
                                                              SelectedItem="{Binding PurchaseAttributeSelection}"
                                                              SelectedIndex="{Binding PurchaseAttributeIndex}"
                                                              Width="200"
                                                              Height="200">
                                                                <ListView.View>
                                                                    <GridView>
                                                                        <GridView.Columns>
                                                                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="60"/>
                                                                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="66"/>
                                                                            <GridViewColumn Header="Category" DisplayMemberBinding="{Binding Category}" Width="76"/>
                                                                        </GridView.Columns>
                                                                    </GridView>
                                                                </ListView.View>
                                                            </ListView>

                                                            <Grid Margin="0,10,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                    <RowDefinition Height="*"/>
                                                                </Grid.RowDefinitions>

                                                                <Button Content="New Trait" 
                                                                        Command="{Binding NewEBMTraitCommand}"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"/>

                                                                <Button Content="Delete Trait"
                                                                        Command="{Binding DeleteEBMTraitCommand}"
                                                                        HorizontalAlignment="Right"
                                                                        VerticalAlignment="Center"
                                                                        Style="{DynamicResource DataGridButton}"
                                                                        Grid.Column="2"/>
                                                            </Grid>
                                                        </StackPanel>

                                                        <GroupBox Header="Trait Details" Margin="5,15,0,0">
                                                            <GroupBox.Visibility>
                                                                <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                                    <Binding Path="PurchaseAttributeSelection"/>
                                                                    <Binding Path="PurchaseAttributeList"/>
                                                                </MultiBinding>
                                                            </GroupBox.Visibility>
                                                            <StackPanel>
                                                                <TextBlock Text="Name"/>
                                                                <ComboBox ItemsSource="{Binding CurrentAttributeList}"
                                                                  SelectedValue="{Binding CurrentAttributeSelection}"
                                                                  Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Type" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeTypeList}" 
                                                                    SelectedValue="{Binding AttributeTypeSelection}"
                                                                    Width="100" HorizontalAlignment="Left"/>

                                                                <TextBlock Text="Category" Margin="0,15,0,0"/>
                                                                <ComboBox ItemsSource="{Binding AvailableAttributeCategoryList}" 
                                                                            SelectedValue="{Binding AttributeCategorySelection}"
                                                                            Width="100" HorizontalAlignment="Left"/>

                                                                <StackPanel Visibility="{Binding AttributeBasicSelected, Converter={StaticResource BoolToVis}}"
                                                                    Margin="0,15,0,0">
                                                                    <TextBlock Text="Rank"/>
                                                                    <ComboBox ItemsSource="{Binding AttributeRankDictionary}"
                                                                              DisplayMemberPath="Key"
                                                                              SelectedValuePath="Value"
                                                                              SelectedValue="{Binding PurchaseAttributeSelection.Rank}"
                                                                              Width="100" HorizontalAlignment="Left"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeBoosterSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Multiplier"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                                <StackPanel Visibility="{Binding AttributeSpecialSelected, Converter={StaticResource BoolToVis}}">
                                                                    <TextBlock Text="Value"/>
                                                                    <TextBox Text="{Binding PurchaseAttributeSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                     Width="40"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </GroupBox>
                                                    </StackPanel>


                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                    <TabItem Header="Drawbacks">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="3*"/>
                                            </Grid.ColumnDefinitions>

                                            <DockPanel>
                                                <ContentControl Template="{DynamicResource BudgetPanel}" DockPanel.Dock="Top" Margin="0,5,0,0"/>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="5*"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <ListView ItemsSource="{Binding EBMDrawbackList}"
                                                              SelectedItem="{Binding EBMDrawbackSelection}"
                                                              SelectedIndex="{Binding EBMDrawbackIndex}"
                                                              Height="480" Width="230" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Margin="0,5,0,0">
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridView.Columns>
                                                                    <GridViewColumn Header="Name" Width="180"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Name}"/>
                                                                    <GridViewColumn Header="Value" Width="50"
                                                                                    CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                                    DisplayMemberBinding="{Binding Value}"/>
                                                                </GridView.Columns>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>

                                                    <Grid Grid.Row="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="*"/>
                                                        </Grid.RowDefinitions>

                                                        <Button Content="New Drawback" 
                                                                Command="{Binding NewEBMDrawbackCommand}"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"/>

                                                        <Button Content="Delete Drawback"
                                                                Command="{Binding DeleteEBMDrawbackCommand}"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Style="{DynamicResource DataGridButton}"
                                                                Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </DockPanel>

                                            <GroupBox Header="Drawback Details" Grid.Column="1">
                                                <GroupBox.Visibility>
                                                    <MultiBinding Converter="{StaticResource ListContainsToVis}">
                                                        <Binding Path="EBMDrawbackSelection"/>
                                                        <Binding Path="EBMDrawbackList"/>
                                                    </MultiBinding>
                                                </GroupBox.Visibility>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="2*"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <StackPanel Margin="5,3,0,0">
                                                        <TextBlock Text="Name"/>
                                                        <TextBox Text="{Binding EBMDrawbackSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="120"/>

                                                        <TextBlock Text="Value" Margin="0,15,0,0"/>
                                                        <TextBox Text="{Binding EBMDrawbackSelection.Value, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="40"/>

                                                        <TextBlock Text="Description" Margin="0,50,0,0"/>
                                                        <TextBox Text="{Binding EBMDrawbackSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                                 Width="290"
                                                                 Height="300"
                                                                 Style="{DynamicResource LargeTextBoxHintTemplate}"
                                                                 Tag="Insert Drawback description."/>
                                                    </StackPanel>
                                                </Grid>
                                            </GroupBox>
                                        </Grid>
                                    </TabItem>
                                </TabControl>
                            </Grid>
                        </TabItem>
                        <TabItem Header="Additions">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <ListView ItemsSource="{Binding BodyModAdditionList}"
                                          SelectedItem="{Binding BodyModAdditionSelection}"
                                          SelectedIndex="{Binding BodyModAdditionSelectionIndex}"
                                          Width="600" Height="650" HorizontalAlignment="Left" VerticalAlignment="Top"
                                          Margin="0,5,0,0">
                                    <ListView.View>
                                        <GridView>
                                            <GridView.Columns>
                                                <GridViewColumn Header="Name" Width="600"
                                                                CellTemplate="{StaticResource ResourceKey=GridViewDefaultColumn}"
                                                                DisplayMemberBinding="{Binding Name}"/>
                                            </GridView.Columns>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                                <GroupBox Header="Addition Details" Grid.Column="1"
                                          Visibility="{Binding BodyModAdditionSelection, Converter={StaticResource NullToVis}}">
                                    <Grid>
                                        <StackPanel Margin="5,3,0,0">
                                            <TextBlock Text="Name"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Name, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"/>

                                            <TextBlock Text="Source Jump" Margin="0,15,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.SourceJump, ValidatesOnNotifyDataErrors=True}"
                                                     Width="120"
                                                     IsReadOnly="True"/>

                                            <TextBlock Text="Description" Margin="0,50,0,0"/>
                                            <TextBox Text="{Binding BodyModAdditionSelection.Description, ValidatesOnNotifyDataErrors=True}"
                                                     Width="290"
                                                     Height="300"
                                                     Style="{DynamicResource LargeTextBox}"/>
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
